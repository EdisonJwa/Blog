<!DOCTYPE html>

<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <!--
        hexo-theme-suka © SukkaW
        GitHub: https://github.com/SukkaW/hexo-theme-suka
    -->

    <!-- ### Resource Hint ### -->

    <!-- ## DNS Prefetch ## -->
    <meta http-equiv="x-dns-prefetch-control" content="on">

<!-- busuanzi -->


<!-- comment -->







<!-- analytics -->







    <!-- ## Preload ## -->
    




    <!-- ### Meta & Title & Info ### -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    <meta name="renderer" content="webkit">

    <!-- Title -->
    <title>TeamSpeak 服务器搭建方法 | Vigorous Pro</title>

    <!-- Favicons -->
    <link rel="icon" type="image&#x2F;ico" href="/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/source/favicon/apple-touch-icon.png"><link rel="icon" typt="image&#x2F;png" sizes="192x192" href="/source/favicon/android-chrome-192x192.png"><link rel="icon" typt="image&#x2F;png" sizes="32x32" href="/source/favicon/favicon-32x32.png"><link rel="icon" typt="image&#x2F;png" sizes="16x16" href="/source/favicon/favicon-16x16.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="">

    <!-- ### Import File ### -->
    <link rel="stylesheet" href="https://static.hit.moe/blog/css/spectre.min.css"><style>
    body {
        background-color: #f8f9fa;
    }

    a, a:visited {
        color: #0070ff;
    }

    a:active, a:focus, a:hover {
        color: #0070ff;
        opacity: .75;
    }

    #post-content a,
    #post-content a:hover,
    #post-content a:focus,
    #post-content a:visited {
        color: #005eb9;
        opacity: 1;
    }

    

    .post-entry .card-body a {
        color: #0070ff;
    }

    .avatar {
        background: #444;
    }

    .navbar-link,
    .navbar-link:visited,
    .timeline .timeline-item .timeline-icon.icon-lg {
        color: #0070ff;
    }

    .navbar-link:hover {
        color: #0070ff;
        opacity: .8;
    }

    #search-input .btn,
    #disqus_click_btn,
    #disqus-switch-to-direct,
    #disqus-loadmore-button {
        background: #727e96;
        border-color: #727e96;
        color: #fff;
    }

    #post-toc a.post-toc-link,
    #post-toc a.post-toc-link:visited,
    .share-menu.menu .menu-item>a {
        color: #727e96;
    }

    .share-menu.menu .menu-item>a:hover,
    .share-menu.menu .menu-item>a:focus,
    .share-menu.menu .menu-item>a:visited {
        color: #50596c;
        background: #f8f9fa;
        opacity: .85;
    }
</style><link rel="stylesheet" href="https://static.hit.moe/blog/css/style.min.css">


    
        <!-- Import DisqusJS Default Theme -->
        <link rel="preload" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2.5/dist/disqusjs.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2.5/dist/disqusjs.css"></noscript>

    







    <!-- Prettify Theme -->
    
    <link rel="preload" href="https://static.hit.moe/blog/css/highlight/tomorrow-night-eighties.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://static.hit.moe/blog/css/highlight/tomorrow-night-eighties.min.css"></noscript>





<script>
/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
!function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){var e=t.media||"all";function a(){t.addEventListener?t.removeEventListener("load",a):t.attachEvent&&t.detachEvent("onload",a),t.setAttribute("onload",null),t.media=e}t.addEventListener?t.addEventListener("load",a):t.attachEvent&&t.attachEvent("onload",a),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(a,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
</script>

    <!-- ### Site Verification ### -->
    


    <link rel="alternate" type="application/atom+xml" href="/atom.xml"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="Vigorous Pro"><meta name="msapplication-starturl" content="https://www.wevg.org"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Vigorous Pro"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="manifest" href="/manifest.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Vigorous Pro">

    <!-- ### The Open Graph & Twitter Card Protocol ### -->
    <meta property="og:title" content="TeamSpeak 服务器搭建方法 | Vigorous Pro"><meta property="og:site_name" content="Vigorous Pro"><meta property="og:type" content="article"><meta property="og:url" content="https://www.wevg.org/archives/teamspeak-server-build/"><meta property="og:locale" content="zh-CN"><meta name="description" content="本文介绍 TeamSpeak 服务器端搭建方法 ，TeamSpeak (简称TS) 是一套专有的VoIP软件 - Edison Jwa - Vigorous Pro"><meta name="keywords" content="Linux, 搭建, 服务器, VoIP, 语音, edisonjwa,game,blog,Web,Html,edison"><meta property="og:image" content="https://static.hit.moe/blog/source/thumbnail/teamspeak-server-build.png"><meta property="og:image" content="https://i.yecdn.com/images/2019/01/05/470060848e9bcfcf7e49aa9deed1008f.png"><meta property="og:image" content="https://i.yecdn.com/images/2019/01/05/e3b3003d5f109c0c67c71432bc0155c9.png"><meta property="og:image" content="https://i.yecdn.com/images/2019/01/05/5dab956bb57536ab3ec97158fd71681f.jpg"><meta property="og:image" content="https://i.yecdn.com/images/2019/04/15/89ff411ff26c02dc24fdec127742faf3.png"><meta property="article:published_time" content="2017-08-28T14:08:46.000Z"><meta property="article:modified_time" content="2021-03-06T10:31:17.000Z"><meta property="og:updated_time" content="2021-03-06T10:31:17.000Z"><meta property="article:author" content="Edison Jwa"><meta property="article:tag" content="Linux, 搭建, 服务器, VoIP, 语音, edisonjwa,game,blog,Web,Html,edison"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://static.hit.moe/blog/source/thumbnail/teamspeak-server-build.png">

    

    <!-- ### Canonical link ### -->
    <link rel="canonical" href="https://www.wevg.org/archives/teamspeak-server-build/">

    <meta name="generator" content="Hexo 6.0.0">

    <!-- ### Analytics ### -->
    







    <!-- ### Structured Data ### -->
    



<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "url": "https://www.wevg.org/archives/teamspeak-server-build/",
    "@type": "BlogPosting",
    "logo": "https://www.wevg.org/source/favicon/android-chrome-192x192.png",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.wevg.org/archives/teamspeak-server-build/"
    },
    "headline": "TeamSpeak 服务器搭建方法 | Vigorous Pro",
    
    "image": {
        "@type": "ImageObject",
        "url": "https://static.hit.moe/blog/source/thumbnail/teamspeak-server-build.png"
    },
    
    "datePublished": "2017-08-28T14:08:46.000Z",
    "dateModified": "2021-03-06T10:31:17.000Z",
    "author": {
        "@type": "Person",
        "name": "Edison Jwa",
        "image": {
            "@type": "ImageObject",
            "url": "https://static.hit.moe/blog/source/image/avatar.jpg"
        },
        "description": "The world can always use more heroes."
    },
    "publisher": {
        "@type": "Organization",
        "name": "Vigorous Pro",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.wevg.org/source/favicon/android-chrome-192x192.png"
        }
    },
    
    "potentialAction": {
        "@type": "SearchAction",
        "target": "https://www.wevg.org/search?s={search_term_string}",
        "query-input": "required name=search_term_string"
    },
    
    "keywords": "Linux, 搭建, 服务器, VoIP, 语音, edisonjwa,game,blog,Web,Html,edison",
    "description": "本文介绍 TeamSpeak 服务器端搭建方法 ，TeamSpeak (简称TS) 是一套专有的VoIP软件 - Edison Jwa - Vigorous Pro"
}
</script>



    <!-- ### Custom Head ### -->
    <link rel="stylesheet" href="https://static.hit.moe/blog/css/darkmode.min.css"><script src="https://static.hit.moe/blog/js/edison-main.min.js"></script><script type="module" async="" src="https://static.hit.moe/blog/js/instantpage.min.js"></script><link rel="manifest" href="/site.webmanifest"><meta name="msapplication-TileColor" content="#d43d3d"><meta name="msapplication-TileImage" content="/source/favicon/mstile-144x144.png"><meta name="theme-color" content="#ffffff"><script type="text/javascript">(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window, document, "clarity", "script", "g2p0n3weie");</script><script defer data-domain="wevg.org" src="https://data.hit.moe/data.js"></script><script defer src="https://analytics.hit.moe/script/health_check.js" data-website-id="9c740ad2-1a86-47dc-8910-c31c1ce9d6cd"></script>
<style type="text/css">
.spoiler {
  display: inline-flex;
}
p.spoiler {
  display: flex;
}
.spoiler a {
  pointer-events: none;
}
.spoiler-blur, .spoiler-blur > * {
  transition: text-shadow .5s ease;
}
.spoiler .spoiler-blur, .spoiler .spoiler-blur > * {
  color: rgba(0, 0, 0, 0);
  background-color: rgba(0, 0, 0, 0);
  text-shadow: 0 0 10px grey;
  cursor: pointer;
}
.spoiler .spoiler-blur:hover, .spoiler .spoiler-blur:hover > * {
  text-shadow: 0 0 5px grey;
}
.spoiler-box, .spoiler-box > * {
  transition: color .5s ease,
  background-color .5s ease;
}
.spoiler .spoiler-box, .spoiler .spoiler-box > * {
  color: black;
  background-color: black;
  text-shadow: none;
}</style></head>

    <body>
            

            <!-- ### Main content ### -->
            <!-- ## Header ##-->
<header>
    <h1 class="header-title text-center"><a href="/">Vigorous Pro</a></h1>

    <p class="text-center header-slogan">
        
            
                The world can always use more heroes.
            
        
    </p>

    <nav class="navbar-section text-center">
    
        <a href="/" class="navbar-link">首页</a>
    
    
        <a href="/archives/" class="navbar-link">归档</a>
    
    
        <a href="/search" class="navbar-link">搜索</a>
    
    
        <a target="_blank" rel="noopener" href="https://uv.uy" class="navbar-link">关于</a>
    
        <a href="/friends/" class="navbar-link">友链</a>
    
    
    
</nav>
</header>

            
    <!-- ## Post ## -->
    <div class="post-container">
    <div id="post-card" class="card">
        
            <div class="card-image lazyload" data-bg="https://static.hit.moe/blog/source/thumbnail/teamspeak-server-build.png"></div>
        
        <div class="card-item-container">
            <div class="card-inner-cell">
                <!-- # Post Header Info # -->
                <div class="card-header">
                    
    <h1 class="card-title h3 mb-2">TeamSpeak 服务器搭建方法</h1>




<div class="post-header-info">
    <p class="post-header-info-left text-gray">
        <img class="author-thumb lazyload" data-src="https://static.hit.moe/blog/source/image/avatar.jpg" src="https://static.hit.moe/blog/img/suka-lazyload.gif" alt="Edison Jwa's Avatar">
        <span>2017-08-28</span>
        
            <span class="suka-devide-dot"></span>
            <a class="category-link" href="/categories/Tech/">Tech</a>
        
        
        
    </p>
    <div class="post-header-info-right">
        
            <div class="dropdown dropdown-right">
<a class="dropdown-toggle" tabindex="0">分享本文</a>
<ul class="menu share-menu">
    <!-- Share Weibo -->
    
    <li class="menu-item">
        <a href="http://service.weibo.com/share/share.php?appkey=&title=TeamSpeak 服务器搭建方法&url=https://www.wevg.org/archives/teamspeak-server-build/&pic=https://static.hit.moe/blog/source/thumbnail/teamspeak-server-build.png&searchPic=false&style=simple" target="_blank" rel="external noopener noreferrer nofollow">分享到微博</a>
    </li>
    

    <!-- Share Twitter -->
    
    <li class="menu-item">
        <a href="https://twitter.com/intent/tweet?text=TeamSpeak 服务器搭建方法&url=https://www.wevg.org/archives/teamspeak-server-build/&via=Edison Jwa" target="_blank" rel="external noopener noreferrer nofollow">分享到 Twitter</a>
    </li>
    

    <!-- Share Facebook -->
    
    <li class="menu-item">
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.wevg.org/archives/teamspeak-server-build/" target="_blank" rel="external noopener noreferrer nofollow">分享到 Facebook</a>
    </li>
    

    <!-- Share Google+ -->
    
    <li class="menu-item">
        <a href="https://plus.google.com/share?url=https://www.wevg.org/archives/teamspeak-server-build/" target="_blank" rel="external noopener noreferrer nofollow">分享到 Google+</a>
    </li>
    

    <!-- Share LinkedIn -->
    
    <li class="menu-item">
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.wevg.org/archives/teamspeak-server-build/&title=Vigorous Pro" target="_blank" rel="external noopener noreferrer nofollow">分享到 LinkedIn</a>
    </li>
    

    <!-- Share QQ -->
    
    <li class="menu-item">
        <a href="http://connect.qq.com/widget/shareqq/index.html?site=Vigorous Pro&title=Vigorous Pro&summary=The world can always use more heroes.&pics=https://static.hit.moe/blog/source/thumbnail/teamspeak-server-build.png&url=https://www.wevg.org/archives/teamspeak-server-build/" target="_blank" rel="external noopener noreferrer nofollow"> 分享到 QQ</a>
    </li>
    

    <!-- Share Telegram -->
    
    <li class="menu-item">
        <a href="https://t.me/share/url?url=https://www.wevg.org/archives/teamspeak-server-build/&text=Vigorous Pro" target="_blank" rel="external noopener noreferrer nofollow">分享到 Telegram</a>
    </li>
    

    <!-- QRCode -->
    
    <li class="menu-item">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAAAAABQV18IAAAB1UlEQVR42u3bQW7DMAwF0dz/0u02C5N/aGRh0eNNA9SWXwFFFCn28/fA6yNKlChRF6hPc+HBime/xyDvEbUHVb3oasAKQ+6N7xG1ClVN0vR7MuHpOKLeiUpfhqtxRYnqMF3wrcYS9U5UFSirl9FJ3y22ovaiug39L3/+LJsR9WjUNNGsAm66/6dVF1GPRnUTMSGrzR/BXj4jagWqCropGag+p8JH9YyoPai0aSMB9QpOk9JY3Bd1HKqa8LR4TzeIKPkQtQaVBumS1G4jRw4DRO1EkYWuu6+awNWiWgZ8UWtQ1YQkxX0S0PFBpag1qDQR6YF2Cr4xgRW1BtVN9MniOkG2xX1RR6PS4XSaoHSRHBc4RB2NootbOyD848ZVF1HHou4eAk0aIlKBX9ROVHugAwr/d7Ci9qLIwWSCTRLZGJBFHYsizVxkcU1JRGy0ELUORRrh08DdFwAXzUStQaWDx2mQTuOI2omijYK0kXBSEGkreaKORd1pqiFNqSSo46qLqONQKeDSz3Si445YUUejJg1ZJEFICS3aJYhajaINzPFQqDtgEvUaVFdgnf5DWBvkRa1CkYacSdMOSTRE7UXdSShTcY0USG5nM6IejXrSJUqUKFFf1z9d6HFAoVBh4AAAAABJRU5ErkJggg==" alt="QRCode">
    </li>
    

</ul>
</div>
        
    </div>
</div>
                </div>
                <div class="card-body">
                    
                        
                        
                            <div id="post-toc"><ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%87%86%E5%A4%87%E9%98%B6%E6%AE%B5"><span class="post-toc-number">1.</span> <span class="post-toc-text">准备阶段</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%90%8C%E6%84%8F%E8%AE%B8%E5%8F%AF%E6%9D%A1%E6%AC%BE"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">同意许可条款</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">数据库配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80-%E4%BD%BF%E7%94%A8-sqlite-%E6%90%AD%E5%BB%BA"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">方式一: 使用 SQLite 搭建</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E4%BD%BF%E7%94%A8-mysql-mariadb-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%90%AD%E5%BB%BA"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">方法二：使用 MySQL&#x2F;MariaDB 数据库搭建</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%90%AF%E5%8A%A8"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">设置自启动</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#tsdns%E8%AE%BE%E7%BD%AE%E6%96%B9%E6%B3%95-%E5%8F%AF%E9%80%89"><span class="post-toc-number">2.</span> <span class="post-toc-text">TSDNS设置方法 (可选)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%9F%9F%E5%90%8D-srv-%E8%AE%B0%E5%BD%95%E6%B7%BB%E5%8A%A0%E6%A0%BC%E5%BC%8F"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">域名 SRV 记录添加格式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%B7%BB%E5%8A%A0%E8%87%B3%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8-%E5%8F%AF%E9%80%89"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">添加至开机自启动 (可选)</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E8%AE%B8%E5%8F%AF%E8%AF%81%E4%BB%8B%E7%BB%8D"><span class="post-toc-number">3.</span> <span class="post-toc-text">许可证介绍</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#teamspeak-%E7%AB%AF%E5%8F%A3"><span class="post-toc-number">4.</span> <span class="post-toc-text">TeamSpeak 端口</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#serverquery-%E7%9B%B8%E5%85%B3%E9%83%A8%E5%88%86"><span class="post-toc-number">5.</span> <span class="post-toc-text">ServerQuery 相关部分</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%90%AF%E7%94%A8-http-https-serverquery"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">启用 HTTP &#x2F; HTTPS ServerQuery</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%90%AF%E7%94%A8-http-%E8%BF%9E%E6%8E%A5"><span class="post-toc-number">5.1.1.</span> <span class="post-toc-text">启用 HTTP 连接</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%90%AF%E7%94%A8-https-%E8%BF%9E%E6%8E%A5"><span class="post-toc-number">5.1.2.</span> <span class="post-toc-text">启用 HTTPS 连接</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#web-query-%E8%B0%83%E7%94%A8-%E7%A4%BA%E4%BE%8B"><span class="post-toc-number">5.1.3.</span> <span class="post-toc-text">Web-Query 调用 示例</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%8F%82%E6%95%B0%E5%92%8C%E5%8F%AF%E4%B8%8E%E8%BF%99%E4%BA%9B%E5%8F%82%E6%95%B0%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="post-toc-number">5.1.3.1.</span> <span class="post-toc-text">参数和可与这些参数一起使用的命令</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#faq"><span class="post-toc-number">6.</span> <span class="post-toc-text">FAQ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-teamviewer-%E6%97%B6-teamspeak-%E5%A3%B0%E9%9F%B3%E5%8F%98%E5%B0%8F%E7%9A%84%E9%97%AE%E9%A2%98"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">使用 TeamViewer 时 TeamSpeak 声音变小的问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%AE%A9-teamspeak-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BD%BF%E7%94%A8-maxmind-geoip-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">让 TeamSpeak 服务端使用 MaxMind GeoIP 数据库</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="post-toc-number">7.</span> <span class="post-toc-text">参考链接</span></a></li></ol></div>
                        
                    
                    <article id="post-content">
                        <p>本文介绍 TeamSpeak 服务器端搭建方法 ，TeamSpeak (简称TS) 是一套专有的VoIP软件<span id="more"></span>，使用者可以用耳机和麦克风，通过客户端软件连线到指定的服务器，与在服务器内频道的其他使用者进行通话。是一种很像电话会议的方式。 通常 TeamSpeak 的使用者大多为多人连线游戏的玩家，与同队伍的玩家进行通讯。在游戏的对战方面，语音对话通讯具有竞争优势。</p>
<blockquote>
<p>如果您想找一个最快最简单的搭建方法，请参考 <a href="/archives/teamspeak-server-via-docker/">使用 Docker 搭建 TeamSpeak 服务器</a>。除此之外的更多情况下，我更推荐按照本文来进行搭建。</p>
</blockquote>
<p><strong>请务必从官网下载最新版本服务端，否则可能会出现无法连接至服务器的情况</strong><br>
TeamSpeak 官网 <a target="_blank" rel="noopener" href="https://www.teamspeak.com">teamspeak.com</a></p>
<h1 id="准备阶段">准备阶段</h1>
<p>本部分以装有 Debian 10 x64 系统为例，其他系统搭建方法类似。</p>
<blockquote>
<p><span style="color:#DB4D6D;"><strong>为了保证系统的安全，不要使用 root 账户安装并配置TS服务器</strong></span></p>
</blockquote>
<p>执行一下系统更新操作：</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">apt update &amp;&amp; apt full-upgrade -y<br>apt <span class="hljs-keyword">install </span>curl vim wget git sudo unzip apt-transport-https <span class="hljs-keyword">screen </span>ca-certificates <span class="hljs-keyword">dialog </span>softw<br></code></pre></td></tr></table></figure>
<p>新建一个用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">useradd teamspeak<br></code></pre></td></tr></table></figure>
<p>切换至 /opt录下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /opt<br></code></pre></td></tr></table></figure>
<p>复制并解压TS服务器端文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://files.teamspeak-services.com/releases/server/3.12.0/teamspeak3-server_linux_amd64-3.12.0.tar.bz2 &amp;&amp; tar -xjvf teamspeak3-server_linux_amd64-3.12.0.tar.bz2 &amp;&amp; rm teamspeak3-server_linux_amd64-3.12.0.tar.bz2<br></code></pre></td></tr></table></figure>
<p>赋予刚刚新建的用户权限，并进入该目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">chown -R teamspeak:teamspeak teamspeak3-server_linux_amd64 &amp;&amp; <span class="hljs-built_in">cd</span> /opt/teamspeak3-server_linux_amd64 &amp;&amp; su teamspeak<br></code></pre></td></tr></table></figure>
<h2 id="同意许可条款">同意许可条款</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">touch .ts3server_license_accepted<br></code></pre></td></tr></table></figure>
<blockquote>
<p>您可以选择以下任意一种搭建方式进行搭建，若您不理解这些方式的区别，请直接使用第一种搭建方式，即使用 SQLite 搭建</p>
</blockquote>
<h2 id="数据库配置">数据库配置</h2>
<h3 id="方式一-使用-sqlite-搭建">方式一: 使用 SQLite 搭建</h3>
<p>因 TeamSpeak 默认使用 SQLite, 所以直接执行以下操作即可自动配置，并启动服务器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./ts3server_startscript.sh start<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意保存密钥及 ServerQuery 管理员账户和密码</p>
</blockquote>
<p><img src="https://i.yecdn.com/images/2019/01/05/470060848e9bcfcf7e49aa9deed1008f.png" alt=""></p>
<h3 id="方法二：使用-mysql-mariadb-数据库搭建">方法二：使用 MySQL/MariaDB 数据库搭建</h3>
<ol>
<li>首先使用 root 登录 MySQL/MariaDB</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">mysql <span class="hljs-operator">-</span>u root <span class="hljs-operator">-</span>p <br></code></pre></td></tr></table></figure>
<ol start="2">
<li>会提示输入密码，输入密码登陆后，创建一个名为 teamspeak 的数据库</li>
</ol>
<blockquote>
<p>数据库名，用户名和密码请自行修改，此处以数据库名 <code>teamspeak_database</code>，用户名 <code>teamspeak_user</code> 及密码 <code>teamspeak_password</code> 为例</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> DATABASE teamspeak_database <span class="hljs-keyword">DEFAULT</span> <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb4 <span class="hljs-keyword">COLLATE</span> utf8mb4_general_ci; <br></code></pre></td></tr></table></figure>
<ol start="3">
<li>创建一个叫做 <code>teamspeak_user</code> 的用户，使用强大的密码并且赋予 <code>teamspeak_database</code> 数据库权限</li>
</ol>
<p>由于手机端的流行，我们已经不再使用 <code>utf-8</code> 编码，而改用 <code>utf8mb4</code> 这样我们就可以在 MySQL 数据库里储存 emoji 表情了。你甚至可以尝试使用 emoji 作为用户名或者密码。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">ON</span> teamspeak_database.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;teamspeak_user&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;teamspeak_password&#x27;</span>; <br></code></pre></td></tr></table></figure>
<blockquote>
<p>这里请将密码 <code>teamspeak_password</code> 改成你要设置的强大的没人能猜出来的随机的密码</p>
</blockquote>
<p>终端会提示类似 Query OK, 0 rows affected, 1 warning 不用去管它</p>
<ol start="4">
<li>刷新权限，没问题就可以退出结束安装了</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">FLUSH PRIVILEGES;<br>EXIT;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>进行后续步骤前，首先确保您已经安装 MySQL/MariaDB, 且已经创建好数据库</p>
</blockquote>
<ol start="5">
<li>创建 <code>ts3server.ini</code> 文件，以启用数据库插件</li>
</ol>
<blockquote>
<p>若您已经使用的是 MySQL 数据库, 请将 <code>dbpluginparameter=ts3db_mariadb.ini</code> 部分修改为<br>
<code>dbpluginparameter=ts3db_mysql.ini</code></p>
</blockquote>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ini">cat &gt; ts3server.ini &lt;&lt; EOF<br><span class="hljs-attr">dbplugin</span>=ts3db_mariadb <br><span class="hljs-attr">dbpluginparameter</span>=ts3db_mariadb.ini <br><span class="hljs-attr">dbsqlpath</span>=sql/ <br><span class="hljs-attr">dbsqlcreatepath</span>=create_mariadb/ <br><span class="hljs-attr">dbconnections</span>=<span class="hljs-number">10</span><br></code></pre></td></tr></table></figure>
<ol start="6">
<li>新建 <code>ts3db_mariadb.ini</code> 文件并输入如下内容</li>
</ol>
<blockquote>
<p>若您已经使用的是 MySQL 数据库, 请创建<code>ts3db_mysql.ini</code> , 不要创建 <code>ts3db_mariadb.ini</code> 文件</p>
</blockquote>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[config]</span> <br><span class="hljs-attr">server</span>=<span class="hljs-string">&#x27;localhost&#x27;</span> <br><span class="hljs-attr">port</span>=<span class="hljs-string">&#x27;3306&#x27;</span><br><span class="hljs-attr">username</span>=<span class="hljs-string">&#x27;teamspeak_user&#x27;</span> <br><span class="hljs-attr">password</span>=<span class="hljs-string">&#x27;teamspeak_password&#x27;</span> <br><span class="hljs-attr">database</span>=<span class="hljs-string">&#x27;teamspeak_database&#x27;</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>将 数据库名 <code>teamspeak_database</code>，用户名 <code>teamspeak_user</code> 及密码 <code>teamspeak_password</code> 部分修改为您自己数据库的信息</p>
</blockquote>
<ol start="7">
<li>将 redist 目录下的 <code>libmariadb.so.2</code> 文件拷贝至当前目录下</li>
</ol>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">cp redist<span class="hljs-regexp">/libmariadb.so.2 ./</span><br></code></pre></td></tr></table></figure>
<p>执行以下操作即可启动服务器</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./ts3server_startscript.sh start inifile=ts3server.ini<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意保存密钥及 ServerQuery 管理员账户和密码</p>
</blockquote>
<h2 id="设置自启动">设置自启动</h2>
<p>创建并编辑文件 <code>/lib/systemd/system/teamspeak.service</code></p>
<blockquote>
<p><strong>此步骤需要root权限</strong></p>
</blockquote>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[Unit]</span><br><span class="hljs-attr">Description</span>=Teamspeak, The most superior <span class="hljs-literal">on</span>line voice communication solution.<br><span class="hljs-attr">Wants</span>=network-<span class="hljs-literal">on</span>line.target<br><span class="hljs-attr">After</span>=syslog.target network.target network-<span class="hljs-literal">on</span>line.target<br><br><span class="hljs-section">[Service]</span><br><span class="hljs-attr">User</span>=teamspeak<br><span class="hljs-attr">Group</span>=teamspeak<br><span class="hljs-attr">WorkingDirectory</span>=/opt/teamspeak3-server_linux_amd64/<br><span class="hljs-attr">ExecStart</span>=/opt/teamspeak3-server_linux_amd64/ts3server_startscript.sh start<br><span class="hljs-attr">ExecStop</span>=/opt/teamspeak3-server_linux_amd64/ts3server_startscript.sh stop<br><span class="hljs-attr">PIDFile</span>=/opt/teamspeak3-server_linux_amd64/ts3server.pid<br><span class="hljs-attr">Type</span>=forking<br><br><span class="hljs-section">[Install]</span><br><span class="hljs-attr">WantedBy</span>=multi-user.target<br></code></pre></td></tr></table></figure>
<blockquote>
<p>若您是使用 MySQL 或 MariaDB 数据库方式搭建的话，请将</p>
</blockquote>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ExecStart</span>=/opt/teamspeak<span class="hljs-number">3</span>-server_linux_amd<span class="hljs-number">64</span>/ts<span class="hljs-number">3</span>server_startscript.sh start<br></code></pre></td></tr></table></figure>
<p>修改为</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ExecStart</span>=/opt/teamspeak<span class="hljs-number">3</span>-server_linux_amd<span class="hljs-number">64</span>/ts<span class="hljs-number">3</span>server_startscript.sh start inifile=ts<span class="hljs-number">3</span>server.ini<br></code></pre></td></tr></table></figure>
<p>重新加载 systemd : <code>systemctl daemon-reload</code><br>
开启自启动(可选): <code>systemctl enable teamspeak.service</code><br>
启动 TeamSpeak : <code>systemctl start teamspeak.service</code><br>
停止 TeamSpeak : <code>systemctl stop teamspeak.service</code><br>
重启 TeamSpeak : <code>systemctl restart teamspeak.service</code></p>
<h1 id="tsdns设置方法-可选">TSDNS设置方法 (可选)</h1>
<p>进入tsdns文件夹中，并创建的 <code>tsdns_settings.ini</code> 文件，</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">nano</span> tsdns_settings.ini<br></code></pre></td></tr></table></figure>
<p>配置的格式为 <code>DOMAIN=IP:PORT</code>,比如：</p>
<ul>
<li><code>example.com=1.1.1.1:9987</code> 即代表将 <code>example.com</code> 和其他任何以 <code>example.com</code> 为后缀的域名，解析到地址为 <code>1.1.1.1:9987</code> 的ts服务器</li>
<li>包括 <a target="_blank" rel="noopener" href="http://example.com">example.com</a>, <a target="_blank" rel="noopener" href="http://abc.example.com">abc.example.com</a>, <a target="_blank" rel="noopener" href="http://abc.def.ghi.example.com">abc.def.ghi.example.com</a> …</li>
<li><code>*.example.com=2.2.2.2:9987</code> 即代表将任何以符合 <code>*.example.com</code> 格式的域名，解析到地址为 <code>1.1.1.1:9987</code> 的ts服务器
<ul>
<li>包括 <a target="_blank" rel="noopener" href="http://abc.example.com">abc.example.com</a>, <a target="_blank" rel="noopener" href="http://abc.example.com">abc.example.com</a>, <a target="_blank" rel="noopener" href="http://123.example.com">123.example.com</a> …</li>
</ul>
</li>
<li>PORT 也可以调用变量, 如
<ul>
<li><code>abc.example.com=1.2.3.4:$PORT</code></li>
</ul>
</li>
<li><code>*=1.2.3.4:10000</code> 在这种情况下，它充当向后兼容机制, 可以对没有使用新 TSDNS 名称进行连接的人,连接至当前服务器.
<ul>
<li>比如一名用户连接至 <code>test.example.com:20000</code> ,则该用户会被自动转至 <code>1.2.3.4:10000</code> 的服务器地址</li>
</ul>
</li>
<li>IPv6 格式为 <code>example.com=[2001:0db8::1]:9987</code>
<ul>
<li><code>example.com=[2001:0db8::1]:9987 1.1.1.1:9987</code></li>
</ul>
</li>
</ul>
<h2 id="域名-srv-记录添加格式">域名 SRV 记录添加格式</h2>
<p>此处以给 <code>example.com</code> 域名配置 TSDNS 为例, 假如 tsdns 的</p>
<table>
<thead>
<tr>
<th style="text-align:center">类别</th>
<th style="text-align:center">记录值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">名称</td>
<td style="text-align:center">_tsdns._tcp.example.com</td>
</tr>
<tr>
<td style="text-align:center">Priority</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">Weight</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">Port</td>
<td style="text-align:center">41144</td>
</tr>
<tr>
<td style="text-align:center">Address</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="http://tsdns.example.com">tsdns.example.com</a></td>
</tr>
</tbody>
</table>
<blockquote>
<p>此处以 TSDNS 所在服务器地址为 <a target="_blank" rel="noopener" href="http://tsdns.example.com">tsdns.example.com</a> 为例, <code>Address</code> 部分请务必填写为域名格式。</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">类别</th>
<th style="text-align:center">记录值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">名称</td>
<td style="text-align:center">_ts3._udp.example.com</td>
</tr>
<tr>
<td style="text-align:center">Priority</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">Weight</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">Port</td>
<td style="text-align:center">9987</td>
</tr>
<tr>
<td style="text-align:center">Address</td>
<td style="text-align:center"><a target="_blank" rel="noopener" href="http://teamspeak.example.com">teamspeak.example.com</a></td>
</tr>
</tbody>
</table>
<blockquote>
<p><code>Port</code> 为 TeamSpeak 服务器地址端口， <code>Address</code> 为 TeamSpeak 服务器地址</p>
</blockquote>
<p>接下载, 运行tsdnsserver程序即可，现在连接到TS服务器，可以看到已经显示成功</p>
<p><img src="https://i.yecdn.com/images/2019/01/05/e3b3003d5f109c0c67c71432bc0155c9.png" alt=""></p>
<p>可通过此代码来后台运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">screen -AmdS tsdns ./tsdnsserver<br></code></pre></td></tr></table></figure>
<h3 id="添加至开机自启动-可选">添加至开机自启动 (可选)</h3>
<p>通过 crontab 来实现开机启动</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">crontab -e</span><br></code></pre></td></tr></table></figure>
<p>在文件中添加</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">@reboot <span class="hljs-regexp">/opt/</span>teamspeak3-server_linux_amd64<span class="hljs-regexp">/tsdns/</span>tsdnsserver<br></code></pre></td></tr></table></figure>
<p>关闭编辑器并保存。</p>
<p>接下来，你可以通过 <code>crontab -l</code> 来确认是否添加成功即可。</p>
<h1 id="许可证介绍">许可证介绍</h1>
<p><img src="https://i.yecdn.com/images/2019/01/05/5dab956bb57536ab3ec97158fd71681f.jpg" alt=""></p>
<p><strong>2018-09-11</strong> Non-Profit License (NPL) 现在申请接口已经关闭，许可证相关信息也发生了改变</p>
<p><strong>2019-03-23</strong> 许可证信息前不久又发生了改变，当前许可证状态<br>
<img src="https://i.yecdn.com/images/2019/04/15/89ff411ff26c02dc24fdec127742faf3.png" alt=""></p>
<p><strong>2019-10-06</strong>  官方于 <code>2019-05-13</code><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> 上线了 Sponsorship License，可供游戏俱乐部，教育机构，视频创作者使用，详细说明可在此处查看 <a target="_blank" rel="noopener" href="https://teamspeak.com/sponsorship/">https://teamspeak.com/sponsorship/</a> (Thanks to <a target="_blank" rel="noopener" href="https://github.com/xcgjack">@xcgjack</a>)</p>
<h1 id="teamspeak-端口">TeamSpeak 端口</h1>
<p>TeamSpeak 默认情况下, 服务器端需要下表中的端口<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p>
<table>
<thead>
<tr>
<th style="text-align:center">端口</th>
<th style="text-align:center">协议</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">9987</td>
<td style="text-align:center">UDP</td>
<td style="text-align:center">默认语音服务器端口</td>
</tr>
<tr>
<td style="text-align:center">10011</td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">ServerQuery raw 端口</td>
</tr>
<tr>
<td style="text-align:center">10022</td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">ServerQuery SSH 端口(需要 3.3.0 以上版本服务端)</td>
</tr>
<tr>
<td style="text-align:center">10080</td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">ServerQuery HTTP 端口(需要 3.12.0 以上版本服务端)</td>
</tr>
<tr>
<td style="text-align:center">10443</td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">ServerQuery HTTPS 端口(需要 3.12.0 以上版本服务端)</td>
</tr>
<tr>
<td style="text-align:center">30033</td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">文件传输端口</td>
</tr>
<tr>
<td style="text-align:center">41144</td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">TSDNS</td>
</tr>
</tbody>
</table>
<p>服务端的所有端口都可自由更改</p>
<p>TeamSpeak 3 服务器还会与下方的地址进行连接<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p>
<table>
<thead>
<tr>
<th style="text-align:center">域名</th>
<th style="text-align:center">协议</th>
<th style="text-align:center">本地端口(服务器)</th>
<th style="text-align:center">远程端口</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a target="_blank" rel="noopener" href="http://accounting.teamspeak.com">accounting.teamspeak.com</a></td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">1024-65535</td>
<td style="text-align:center">2008</td>
<td style="text-align:center">3.0.x 服务端版本</td>
</tr>
<tr>
<td style="text-align:center"><a target="_blank" rel="noopener" href="http://accounting2.teamspeak.com">accounting2.teamspeak.com</a></td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">1024-65535</td>
<td style="text-align:center">443</td>
<td style="text-align:center">3.1.x 服务端版本</td>
</tr>
<tr>
<td style="text-align:center"><a target="_blank" rel="noopener" href="http://ts3services.teamspeak.com">ts3services.teamspeak.com</a></td>
<td style="text-align:center">TCP</td>
<td style="text-align:center">1024-65535</td>
<td style="text-align:center">443</td>
<td style="text-align:center">3.1.x 服务端版本</td>
</tr>
<tr>
<td style="text-align:center"><a target="_blank" rel="noopener" href="http://weblist.teamspeak.com">weblist.teamspeak.com</a></td>
<td style="text-align:center">UDP</td>
<td style="text-align:center">2011-2110</td>
<td style="text-align:center">2010</td>
<td style="text-align:center">全部服务端版本</td>
</tr>
</tbody>
</table>
<p>至此 TeamSpeak 服务器端的搭建方法到此结束。</p>
<p>我们的 TeamSpeak 服务器列表 <a target="_blank" rel="noopener" href="https://ts.wevg.org">服务器列表</a></p>
<h1 id="serverquery-相关部分">ServerQuery 相关部分</h1>
<p>其实我对于 ServerQuery 的使用也是比较少，这次更新了通过 API 调用 ServerQuery 的方法之后，感觉之后可能我会拿他做一些比较好玩的事情吧，目前对于 HTTP/HTTPS 方式调用的官方说明还是比较少啦，但是官方有表示会写一个完整的 web-query 文档<sup class="footnote-ref"><a href="#fn3" id="fnref3:1">[3]</a></sup>，但是以 TeamSpeak 的工作效率来看，怕是要又要咕蛮久的了。</p>
<p>首先，如何启用 http 或者 https query 呢，在之前的版本中 SSH RAW 的方式都是默认启用的，但是这次以我目前的测试来看，默认是关闭的</p>
<h2 id="启用-http-https-serverquery">启用 HTTP / HTTPS ServerQuery</h2>
<p>在 ts3server.ini 文件中添加以下内容</p>
<h3 id="启用-http-连接">启用 HTTP 连接</h3>
<blockquote>
<p>默认端口为 10080，且默认情况下监听全部端口，可在此处自行修改</p>
</blockquote>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">query_protocols</span>=raw,ssh,http<br><span class="hljs-attr">query_http_ip</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>,::<br><span class="hljs-attr">query_http_port</span>=<span class="hljs-number">10080</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>如上所示填写后，会同时启用 raw,ssh,http</p>
</blockquote>
<h3 id="启用-https-连接">启用 HTTPS 连接</h3>
<blockquote>
<p>默认端口为 10443，且默认情况下监听全部端口，可在此处自行修改</p>
</blockquote>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">query_protocols</span>=https<br><span class="hljs-attr">query_https_ip</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>,::<br><span class="hljs-attr">query_https_port</span>=<span class="hljs-number">10443</span><br><span class="hljs-attr">query_https_certificate_file</span>=your_cert.pem<br><span class="hljs-attr">query_https_private_key_file</span>=your_key.pem<br></code></pre></td></tr></table></figure>
<blockquote>
<p>此处为仅启用 HTTPS</p>
</blockquote>
<p>对于 ts3server.ini 的完整说明我会在日后进行详细说明</p>
<h3 id="web-query-调用-示例">Web-Query 调用 示例</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -H <span class="hljs-string">&#x27;x-api-key: BAByFoiEXZfnSJyE6dbXFiW_nn_SdwkclpKNz9j&#x27;</span> <span class="hljs-string">&#x27;http://127.0.0.1:10080/gm?msg=Hello+World&#x27;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<span class="hljs-attr">&quot;status&quot;</span>:&#123;<span class="hljs-attr">&quot;code&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">&quot;message&quot;</span>:<span class="hljs-string">&quot;ok&quot;</span>&#125;&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -H <span class="hljs-string">&#x27;x-api-key: BAByFoiEXZfnSJyE6dbXFiW_nn_SdwkclpKNz9j&#x27;</span> <span class="hljs-string">&#x27;http://127.0.0.1:10080/1/channellist?-topic&amp;-icon&#x27;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<span class="hljs-attr">&quot;body&quot;</span>:[&#123;<span class="hljs-attr">&quot;channel_icon_id&quot;</span>:<span class="hljs-string">&quot;0&quot;</span>,<span class="hljs-attr">&quot;channel_name&quot;</span>:<span class="hljs-string">&quot;Default Channel&quot;</span>,<span class="hljs-attr">&quot;channel_needed_subscribe_power&quot;</span>:<span class="hljs-string">&quot;0&quot;</span>,<span class="hljs-attr">&quot;channel_order&quot;</span>:<span class="hljs-string">&quot;0&quot;</span>,<span class="hljs-attr">&quot;channel_topic&quot;</span>:<span class="hljs-string">&quot;Default Channel has no topic&quot;</span>,<span class="hljs-attr">&quot;cid&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>,<span class="hljs-attr">&quot;pid&quot;</span>:<span class="hljs-string">&quot;0&quot;</span>,<span class="hljs-attr">&quot;total_clients&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>&#125;],<span class="hljs-attr">&quot;status&quot;</span>:&#123;<span class="hljs-attr">&quot;code&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">&quot;message&quot;</span>:<span class="hljs-string">&quot;ok&quot;</span>&#125;&#125;<br></code></pre></td></tr></table></figure>
<h4 id="参数和可与这些参数一起使用的命令">参数和可与这些参数一起使用的命令</h4>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><code class="hljs elm">&#123; <span class="hljs-string">&quot;apikeyadd&quot;</span>,                   &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;apikeydel&quot;</span>,                   &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;apikeylist&quot;</span>,                  &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;banadd&quot;</span>,                      &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;banclient&quot;</span>,                   &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;bandel&quot;</span>,                      &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;bandelall&quot;</span>,                   &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;banlist&quot;</span>,                     &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;bindinglist&quot;</span>,                 &#123; manage_scope, read_scope &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channeladdperm&quot;</span>,              &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelclientaddperm&quot;</span>,        &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelclientdelperm&quot;</span>,        &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelclientpermlist&quot;</span>,       &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelcreate&quot;</span>,               &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channeldelete&quot;</span>,               &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channeldelperm&quot;</span>,              &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channeledit&quot;</span>,                 &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelfind&quot;</span>,                 &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgroupadd&quot;</span>,             &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgroupaddperm&quot;</span>,         &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgroupclientlist&quot;</span>,      &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgroupcopy&quot;</span>,            &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgroupdel&quot;</span>,             &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgroupdelperm&quot;</span>,         &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgrouplist&quot;</span>,            &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgrouppermlist&quot;</span>,        &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelgrouprename&quot;</span>,          &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelinfo&quot;</span>,                 &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channellist&quot;</span>,                 &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelmove&quot;</span>,                 &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;channelpermlist&quot;</span>,             &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientaddperm&quot;</span>,               &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientdbdelete&quot;</span>,              &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientdbedit&quot;</span>,                &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientdbfind&quot;</span>,                &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientdbinfo&quot;</span>,                &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientdblist&quot;</span>,                &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientdelperm&quot;</span>,               &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientedit&quot;</span>,                  &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientfind&quot;</span>,                  &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientgetdbidfromuid&quot;</span>,        &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientgetids&quot;</span>,                &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientgetnamefromdbid&quot;</span>,       &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientgetnamefromuid&quot;</span>,        &#123; manage_scope, write_scope, read_scope,&#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientgetuidfromclid&quot;</span>,        &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientinfo&quot;</span>,                  &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientkick&quot;</span>,                  &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientlist&quot;</span>,                  &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientmove&quot;</span>,                  &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientpermlist&quot;</span>,              &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientpoke&quot;</span>,                  &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientsetserverquerylogin&quot;</span>,   &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;clientupdate&quot;</span>,                &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;complainadd&quot;</span>,                 &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;complaindel&quot;</span>,                 &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;complaindelall&quot;</span>,              &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;complainlist&quot;</span>,                &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;custominfo&quot;</span>,                  &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;customsearch&quot;</span>,                &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;customset&quot;</span>,                   &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;customdelete&quot;</span>,                &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;ftcreatedir&quot;</span>,                 not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;ftdeletefile&quot;</span>,                not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;ftgetfileinfo&quot;</span>,               not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;ftgetfilelist&quot;</span>,               not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;ftinitdownload&quot;</span>,              not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;ftinitupload&quot;</span>,                not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;ftlist&quot;</span>,                      not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;ftrenamefile&quot;</span>,                not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;ftstop&quot;</span>,                      not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;gm&quot;</span>,                          &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;help&quot;</span>,                        &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;hostinfo&quot;</span>,                    &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;instanceedit&quot;</span>,                &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;instanceinfo&quot;</span>,                &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;logadd&quot;</span>,                      &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;login&quot;</span>,                       not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;logout&quot;</span>,                      not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;logview&quot;</span>,                     &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;messageadd&quot;</span>,                  &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;messagedel&quot;</span>,                  &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;messageget&quot;</span>,                  &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;messagelist&quot;</span>,                 &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;messageupdateflag&quot;</span>,           &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;permfind&quot;</span>,                    &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;permget&quot;</span>,                     &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;permidgetbyname&quot;</span>,             &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;permissionlist&quot;</span>,              &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;permoverview&quot;</span>,                &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;permreset&quot;</span>,                   &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;privilegekeyadd&quot;</span>,             &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;privilegekeydelete&quot;</span>,          &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;privilegekeylist&quot;</span>,            &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;privilegekeyuse&quot;</span>,             &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;queryloginadd&quot;</span>,               &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;querylogindel&quot;</span>,               &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;queryloginlist&quot;</span>,              &#123; manage_scope, write_scope, read_scope &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;quit&quot;</span>,                        not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;sendtextmessage&quot;</span>,             &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servercreate&quot;</span>,                &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serverdelete&quot;</span>,                &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serveredit&quot;</span>,                  &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupadd&quot;</span>,              &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupaddclient&quot;</span>,        &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupaddperm&quot;</span>,          &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupautoaddperm&quot;</span>,      &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupautodelperm&quot;</span>,      &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupclientlist&quot;</span>,       &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupcopy&quot;</span>,             &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupdel&quot;</span>,              &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupdelclient&quot;</span>,        &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupdelperm&quot;</span>,          &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergrouplist&quot;</span>,             &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergrouppermlist&quot;</span>,         &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergrouprename&quot;</span>,           &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servergroupsbyclientid&quot;</span>,      &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serveridgetbyport&quot;</span>,           &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serverinfo&quot;</span>,                  &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serverlist&quot;</span>,                  &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servernotifyregister&quot;</span>,        not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;servernotifyunregister&quot;</span>,      not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;serverprocessstop&quot;</span>,           &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serverrequestconnectioninfo&quot;</span>, &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serversnapshotcreate&quot;</span>,        &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serversnapshotdeploy&quot;</span>,        &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serverstart&quot;</span>,                 &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;serverstop&quot;</span>,                  &#123; manage_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servertemppasswordadd&quot;</span>,       &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servertemppassworddel&quot;</span>,       &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;servertemppasswordlist&quot;</span>,      &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;setclientchannelgroup&quot;</span>,       &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;tokenadd&quot;</span>,                    &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;tokendelete&quot;</span>,                 &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;tokenlist&quot;</span>,                   &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;tokenuse&quot;</span>,                    &#123; manage_scope, write_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;use&quot;</span>,                         not_supported &#125;,<br>  &#123; <span class="hljs-string">&quot;version&quot;</span>,                     &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br>  &#123; <span class="hljs-string">&quot;whoami&quot;</span>,                      &#123; manage_scope, write_scope, read_scope, &#125; &#125;,<br></code></pre></td></tr></table></figure>
<h1 id="faq">FAQ</h1>
<h2 id="使用-teamviewer-时-teamspeak-声音变小的问题">使用 TeamViewer 时 TeamSpeak 声音变小的问题</h2>
<p>此部分请移步至 <a href="https://www.wevg.org/archives/how-to-use-teamspeak3/">TeamSpeak3 食用方法 (新手向)</a></p>
<h2 id="让-teamspeak-服务端使用-maxmind-geoip-数据库">让 TeamSpeak 服务端使用 MaxMind GeoIP 数据库</h2>
<p>此部分请移步至 <a href="https://www.wevg.org/archives/geoip-with-teamspeak/">在 TeamSpeak 服务器上使用 GeoIP 数据库</a></p>
<h1 id="参考链接">参考链接</h1>
<p><a target="_blank" rel="noopener" href="https://forum.teamspeak.com/threads/46486-Teamspeak-3-Server-Ports">Teamspeak 3 Server Ports</a></p>
<p><a target="_blank" rel="noopener" href="https://forum.teamspeak.com/threads/102772-Teamspeak-3-server-TSDNS-setup">Teamspeak 3 server TSDNS setup</a></p>
<p><a target="_blank" rel="noopener" href="https://support.teamspeakusa.com/index.php?/Knowledgebase/Article/View/332/15/server-address-resolution-and-tsdns-changes-with-client-31x">Server address resolution and TSDNS changes with Client 3.1.x</a></p>
<p><a target="_blank" rel="noopener" href="https://support.teamspeakusa.com/index.php?/Knowledgebase/Article/View/293/12/does-teamspeak-3-support-dns-srv-records">Does TeamSpeak 3 support DNS SRV records?</a></p>
<p><a target="_blank" rel="noopener" href="https://community.teamspeak.com/t/teamspeak-server-3-12-0/">TeamSpeak Server 3.12.0</a></p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1"  class="footnote-item"><p><a target="_blank" rel="noopener" href="https://twitter.com/teamspeak/status/1127939577501687808">TeamSpeak Official Twitter</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2"  class="footnote-item"><p><a target="_blank" rel="noopener" href="https://forum.teamspeak.com/threads/135502-What-ports-TeamSpeak-3-server-use">What ports TeamSpeak 3 server use?</a> <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
<li id="fn3"  class="footnote-item"><p><a target="_blank" rel="noopener" href="https://community.teamspeak.com/t/teamspeak-server-3-12-0/3916/6">TeamSpeak Server 3.12.0</a> <a href="#fnref3" class="footnote-backref">↩</a> <a href="#fnref3:1" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

                    </article>
                    
    <blockquote class="post-license">
        <p>
            <strong>本文作者&nbsp;:&nbsp;Edison Jwa</strong>
            <br>
            <strong>
            
                本文使用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)</a> 协议
            </strong>
            <br>
            <strong>本文链接&nbsp;:&nbsp;</strong><a href="https://www.wevg.org/archives/teamspeak-server-build/">https://www.wevg.org/archives/teamspeak-server-build/</a>
        </p>
    </blockquote>



    <blockquote id="date-expire-notification" class="post-expired-notify">本文最后更新于 <span id="date-expire-num"></span> 天前，文中所描述的信息可能已发生改变</blockquote>
    <script>
    (function() {
        var dateUpdate = Date.parse("2021-03-06");
        var nowDate = new Date();
        var a = nowDate.getTime();
        var b = a - dateUpdate;
        var daysUpdateExpire = Math.floor(b/(24*3600*1000));
        if (daysUpdateExpire >= 120) {
            document.getElementById('date-expire-num').innerHTML = daysUpdateExpire;
        } else {
            document.getElementById('date-expire-notification').style.display = 'none';
        }
    })();
    </script>


<p class="post-footer-info mb-0 pt-0">本文发表于&nbsp;<time datetime="2017-08-28T14:08:46.000Z" itemprop="datePublished">2017-08-28</time>

    , 最后修改于&nbsp;<time datetime="2021-03-06T10:31:17.000Z" itemprop="dateModified">2021-03-06</time>

</p>
<p class="post-footer-info mb-0 pt-2">

<span class="post-categories-list mt-2">

<a class="post-categories-list-item" href='/categories/Tech/'>Tech</a>

</span>



<span class="post-tags-list mt-2">

<a class="post-tags-list-item" href="/tags/Linux/" rel="tag">#&nbsp;Linux</a>

<a class="post-tags-list-item" href="/tags/%E6%90%AD%E5%BB%BA/" rel="tag">#&nbsp;搭建</a>

<a class="post-tags-list-item" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">#&nbsp;服务器</a>

<a class="post-tags-list-item" href="/tags/VoIP/" rel="tag">#&nbsp;VoIP</a>

<a class="post-tags-list-item" href="/tags/%E8%AF%AD%E9%9F%B3/" rel="tag">#&nbsp;语音</a>

</span>


</p>

                </div>
                <div class="post-nav px-2 bg-gray">
<ul class="pagination">
    <!-- Prev Nav -->
    
        <li class="page-item page-prev">
            <a href="/archives/change-telegram-fonts/" rel="prev">
                <div class="page-item-title"><i class="icon icon-back" aria-hidden="true"></i></div>
                <div class="page-item-subtitle">为 Telegram Desktop 替换字体</div>
            </a>
        </li>
    

    <!-- Next Nav -->
    
</ul>
</div>

                
                    <!-- # Comment # -->
                    
                        <div class="card-footer post-comment">
                            <div id="disqus_thread"></div>

<script id="js-disqusjs" src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.5/dist/disqus.js" async></script>
<script>
document.getElementById('js-disqusjs').addEventListener('load', function () {
    function loadDisqusJS() {
        new DisqusJS({
            shortname: 'edisonj',
            
            siteName: 'Vigorous Pro',
            
            identifier: 'https://www.wevg.org/archives/teamspeak-server-build/',
            url: 'https://www.wevg.org/archives/teamspeak-server-build/',
            api: 'https://disqus.uv.uy/api/',
            apikey: 'vBTqc5gYirQfuj9STIAANtQCArVi9MN8UZ72UUucwnhus4AhpgpbVJMIn3Ojl4O7',
            
            
        })
    }
    if (document.readyState === 'complete') {
        loadDisqusJS();
    } else {
        window.addEventListener('load', loadDisqusJS);
    }
});
</script>

                        </div>
                    
                
            </div>
        </div>
    </div>
</div>

            <!-- ### Footer ### -->
            <footer class="text-center">
    <!-- footer copyright -->
    
        <p class="footer-copyright mb-0">Copyright&nbsp;©&nbsp;<span id="copyright-year"></span>
            <a class="footer-copyright-a" href="https://www.wevg.org">Vigorous Pro</a>
        </p>

    <!-- footer custom text -->
    <p class="footer-text mb-0">
    <a href="/atom.xml" target="_blank" class="footer-develop-a" rel="nofollow noopener noreferrer">RSS</a><span class="footer-develop-divider"></span><a href="https://donate.edison.do" target="_blank" class="footer-develop-a" rel="nofollow noopener noreferrer">Donate</a><span class="footer-develop-divider"></span><a href="/privacy-policy" target="_blank" class="footer-develop-a" rel="nofollow noopener noreferrer">Privacy Policy</a>
    </p>
    <!-- footer develop info -->
    <p class="footer-develop mb-0">
        

        
        Powered by&nbsp;<!--
         --><a href="https://hexo.io" target="_blank" class="footer-develop-a" rel="external nofollow noopener noreferrer">Hexo</a><span class="footer-develop-divider"></span>Theme&nbsp;-&nbsp;<!--
         --><a href="https://github.com/SukkaW/hexo-theme-suka" target="_blank" class="footer-develop-a" rel="external noopener">Suka</a>
    </p>
</footer>


        <!-- ### Import File ### -->
        <!-- ### Footer JS Import ### -->

<script>

    
window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 50
};

(function() {
    var copyrightNow = new Date().getFullYear();
    var copyrightContent = document.getElementById('copyright-year');
    var copyrightSince = 2015;
    if (copyrightSince === copyrightNow) {
        copyrightContent.textContent = copyrightNow;
    } else {
        copyrightContent.textContent = copyrightSince + ' - ' + copyrightNow;
    }
})();
console.log('\n %c Suka Theme (hexo-theme-suka) | © SukkaW | Verision 1.3.3 %c https://github.com/SukkaW/hexo-theme-suka \n', 'color: #fff; background: #444; padding:5px 0;', 'background: #bbb; padding:5px 0;');

</script>

<script src="https://static.hit.moe/blog/js/lazyload.min.js" async></script>



<!-- Comment -->

    
        <!-- No need for DisqusJS -->
    


<!-- ### Custom Footer ### -->
<script> if ('serviceWorker' in navigator) { window.addEventListener('load', () => { navigator.serviceWorker.register('/sw.js'); }) } </script><script>window.ga_tid = "UA-106121780-1";window.ga_api = "https://ga.cdn.uv.uy/jquery.js"; </script><script src="https://static.hit.moe/blog/js/main.js" async></script><!--- 93f83f11-28be-4c0e-bfcc-067cf93f7d8b --->
    </body>

</html>